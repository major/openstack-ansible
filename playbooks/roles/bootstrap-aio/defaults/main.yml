---
# Copyright 2015, Rackspace US, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

## Services to deploy
# To deploy the standard suite of OpenStack services (excluding swift and
# ceilometer), set the following option to 'true'.  Set it to 'false' to skip
# the deployment.
deploy_openstack: true
# To deploy ceilometer as part of the AIO deployment, set the following
# variable to 'true'.  Set it to 'false' to skip the ceilometer deployment.
deploy_ceilometer: true
# To deploy swift as part of the AIO deployment, set the following
# variable to 'true'.  Set it to 'false' to skip the swift deployment.
deploy_swift: true

# Adjust the apt repository URL's below if needed for faster downloads.
# These will be adjusted automatically by Ansible tasks in this role when the
# AIO build is running inside an OpenStack gate job.
ubuntu_repo: http://mirror.rackspace.com/ubuntu/
ubuntu_security_repo: http://mirror.rackspace.com/ubuntu/

# To flush all iptables rules during the deployment, set flush_iptables to
# 'true'. This is strongly recommended as some Ubuntu installations have
# a default firewall ruleset that will cause problems with inter-container
# communication.
flush_iptables: yes

## Swap memory
# By default, the swap size is get to 8GB.  It will be lowered to 4GB if the
# total RAM in the environment is less than 8GB.  Set the value below in
# gigabytes if a custom swap memory size is required.
swap_size: 8

## Loopback volumes
# If the role detects available block devices, those will be used in place of
# loopback devices (if they meet size requirements).  The size of the loopback
# volumes can be customized here (in gigabytes).
#
# Size of the cinder loopback volume in gigabytes (GB). Default: 1024GB
cinder_loopback_size: 1024
# Size of the swift loopback volume in gigabytes (GB). Default: 1024GB
swift_loopback_size: 1024

## Keystone admin password
# Set an admin password manually for the keystone admin account. If this line
# is left commented out, a secure password will be generated during the task
# run.
#admin_password: very-secret-password-goes-here

# Specify the public IP address for the host if it can't be reliably
# determined. If this line is left commented, the tasks will try to find the
# public IP address of the host using Ansible facts.
#public_address: 0.0.0.0

## Bridge configuration
# The AIO bootstrap configures bridges for use with the AIO deployment.
# By default, these bridges are configured to be independent of any phyiscal
# interfaces, and they have their 'bridge_ports' set to 'none'.  However,
# deployers can add a physical interface to 'bridge_ports' to connect the
# bridge to a real physical interface.
#
# A setting of 'none' keeps the bridges as independent from physical
# interfaces (the default).
#
# Setting the value to 'eth1' would mean that the bridge is directly connected
# to the eth1 device.
#
# See https://wiki.debian.org/BridgeNetworkConnections for more details.
bridge_mgmt_ports: none
bridge_vxlan_ports: none
bridge_storage_ports: none

## Container counts
# Specify the number of containers to run of each service type.
galera_container: 3
horizon_container: 2
keystone_container: 2
rabbit_mq_container: 3
repo_container: 2
# Specify the number of containers to run if this role is running inside an
# OpenStack gate check job.
gate_galera_container: 1
gate_horizon_container: 1
gate_keystone_container: 1
gate_rabbit_mq_container: 1
gate_repo_container: 1

# Deployers with their own instance of MongoDB can choose to provide the IP
# address of their MongoDB server here. The default address from the AIO
# configuration is used here.
mongo_host: 172.29.236.100

# Configure a custom RabbitMQ package URL (optional)
#rabbitmq_package_url: http://example.com/rabbitmq_server.deb

# Fatal deprecation warnings are disabled by default. Set any of these to 'yes'
# or 'true' to enable fatal deprecation warnings for each service.
cinder_fatal_deprecations: no
glance_fatal_deprecations: no
heat_fatal_deprecations: no
keystone_fatal_deprecations: no
neutron_fatal_deprecations: no
nova_fatal_deprecations: no
tempest_fatal_deprecations: no

## Extra storage for gate/check builds
# Some clouds have additional storage available that can be used along with
# openstack-ansible for AIO builds.  Specify a storage device that can be
# used as additional storage and it will be used in the AIO role.
#
# WARNING: This storage device will be destroyed and repartitioned by this
# role during the bootstrap process.
storage_dev: vdb
# If the storage capacity is larger than this size (in GB), we should use it
# for LXC container storage. Otherwise, we should use it for swift/cinder only.
storage_dev_min_size: 250

# Additional configuration options
service_region: RegionOne
nova_virt_type: qemu
tempest_public_subnet_cidr: 172.29.248.0/22
